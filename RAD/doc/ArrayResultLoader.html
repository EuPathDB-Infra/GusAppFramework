<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>ArrayResultLoader.pm</title>
<link rev="made" href="mailto:root@localhost" />
</head>

<body style="background-color: white">

<p><a name="__index__"></a></p>
<!-- INDEX BEGIN -->

<ul>

	<li><a href="#name">NAME</a></li>
	<li><a href="#synopsis">SYNOPSIS</a></li>
	<li><a href="#description">DESCRIPTION</a></li>
	<li><a href="#arguments">ARGUMENTS</a></li>
	<li><a href="#notes">NOTES</a></li>
	<ul>

		<li><a href="#data_file"><em>data_file</em></a></li>
		<li><a href="#e_subclass_view"><em>e_subclass_view</em></a></li>
		<li><a href="#c_subclass_view"><em>c_subclass_view</em></a></li>
		<li><a href="#er_subclass_view"><em>er_subclass_view</em></a></li>
		<li><a href="#cr_subclass_view"><em>cr_subclass_view</em></a></li>
		<li><a href="#restart"><em>restart</em></a></li>
		<li><a href="#testnumber"><em>testnumber</em></a></li>
	</ul>

	<li><a href="#author">AUTHOR</a></li>
	<li><a href="#copyright">COPYRIGHT</a></li>
</ul>
<!-- INDEX END -->

<hr />
<p>
</p>
<h1><a name="name">NAME</a></h1>
<p>GUS::RAD::Plugin::ArrayResultLoader</p>
<p>
</p>
<hr />
<h1><a name="synopsis">SYNOPSIS</a></h1>
<p>*For help</p>
<p>ga GUS::RAD::Plugin::ArrayResultLoader <strong>[options]</strong> <strong>--help</strong></p>
<p>*For loading data into ElementResultImp table</p>
<p>ga GUS::RAD::Plugin::ArrayResultLoader <strong>[options]</strong> <strong>--data_file</strong> data_file <strong>--array_id</strong> array_id <strong>--e_subclass_view</strong> e_subclass_view <strong>--quantification_id</strong> quantification_id <strong>--er_subclass_view</strong> er_subclass_view <strong>--debug</strong> &gt; logfile</p>
<p>*For loading data into CompositeElementResultImp table</p>
<p>ga GUS::RAD::Plugin::ArrayResultLoader <strong>[options]</strong> <strong>--data_file</strong> data_file <strong>--array_id</strong> array_id <strong>--e_subclass_view</strong> e_subclass_view <strong>--quantification_id</strong> quantification_id <strong>--cr_subclass_view</strong> cr_subclass_view <strong>--commit</strong> &gt; logfile</p>
<p>*For loading data into CompositeElementResultImp table such as loading Affymetrix Chp data</p>
<p>ga  GUS::RAD::Plugin::ArrayResultLoader <strong>[options]</strong> <strong>--data_file</strong> data_file <strong>--array_id</strong> array_id <strong>--c_subclass_view</strong> c_subclass_view  <strong>--quantification_id</strong> quantification_id <strong>--cr_subclass_view</strong> cr_subclass_view <strong>--debug</strong> &gt; logfile</p>
<pre>

*For loading data into ElementResultImp and CompositeElementResultImp table</pre>
<p>ga  GUS::RAD::Plugin::ArrayResultLoader <strong>[options]</strong> <strong>--data_file</strong> data_file <strong>--array_id</strong> array_id <strong>--e_subclass_view</strong> e_subclass_view  <strong>--quantification_id</strong> quantification_id <strong>--er_subclass_view</strong> er_subclass_view <strong>--cr_subclass_view</strong> cr_subclass_view <strong>--rel_quantification_id</strong> rel_quantification_id <strong>--debug</strong> &gt; logfile</p>
<p>*For loading two-channel data into ElementResultImp and CompositeElementResultImp table</p>
<p>ga  GUS::RAD::Plugin::ArrayResultLoader <strong>[options]</strong> <strong>--data_file</strong> data_file <strong>--array_id</strong> array_id <strong>--e_subclass_view</strong> e_subclass_view  <strong>--quantification_id</strong> quantification_id <strong>--er_subclass_view</strong> er_subclass_view <strong>--cr_subclass_view</strong> cr_subclass_view <strong>--rel_quantification_id</strong> rel_quantification_id <strong>--commit</strong> &gt; logfile</p>
<p>
</p>
<hr />
<h1><a name="description">DESCRIPTION</a></h1>
<p>This is a plug-in that loads array  (spotted microarray and oligonucleotide array) result data into CompositeElementResultImp, ElementResultImp, set the value of result_table_id in Quantification table and if applicable, link the chp quantification_id with cel quantification_id in relatedQuantification table.</p>
<p>
</p>
<hr />
<h1><a name="arguments">ARGUMENTS</a></h1>
<p><strong>--data_file</strong> <em>data_file</em>  [require the absolute pathname]</p>
<pre>
    The file contains the values for attributes in ElementResultImp, CompositeResultElementImp.</pre>
<p><strong>--array_id</strong> <em>array_id</em>  [require must be one of array_id in RAD3::Array table]</p>
<pre>
    set value of the ElementImp.array_id in order to determine the element_id and composite_element_id</pre>
<p><strong>--quantification_id</strong> <em>quantification_id</em>  [require must must be one of quantification_id in RAD3::Quantification table]</p>
<pre>
    set value for the ElementImp.quantification_id and CompositeElementImp.quantification_id</pre>
<p></p>
<pre>

=head1 OPTIONS</pre>
<p><strong>--e_subclass_view</strong> <em>e_subclass_view</em>  [optional, must be one of view name for  RAD3::ElementImp table]
    being used for determining the element_id and composite_element_id</p>
<p><strong>--c_subclass_view</strong> <em>c_subclass_view</em>  [optional, must be one of view name for  RAD3::CompositeElementImp table]
    being used for determining the composite_element_id if e_subclass_view not set</p>
<p><strong>--er_subclass_view</strong> <em>er_subclass_view</em>  [optional, must be one of view name for  RAD3::ElementResultImp table]
    being used for updating ElementResultImp table, if set, will update ElementResultImp table</p>
<p><strong>--cr_subclass_view</strong> <em>cr_subclass_view</em>  [optional, must be one of view name for  RAD3::CompositeElementResultImp table]
    being used for updating CompositeElementResultImp table, if set, will update CompositeElementResultImp table</p>
<p><strong>--rel_quantification_id</strong> <em>rel_quantification_id</em>  [optional, must be one of quantification_id in RAD3::Quantification table]
    must be provided when associated channel data is loaded. set value of  the ElementImp.quantification_id and CompositeElementImp.quantification_id for the associated channel</p>
<p><strong>--cel_quantification_id</strong> <em>cel_quantification_id</em>  [optional, must be one of quantification_id in RAD3::Quantification table]
    can be provided when associated chp data is loaded. set value of  the cel quantification_id and chp quantification_id in relatedQuantification table</p>
<p><strong>--posOption</strong> <em>posOption</em>  [optional, default is 1, can be 1, 2 or 3]
    if 1, then using ``name'' as probe set identifier; if 2, then using ``external_database_release_id'' and ``source_id'' as probe set identifier; if 3, then using ``name'', ``external_database_release_id'' and ``source_id'' as probe set identifier.</p>
<p><strong>--debug</strong>
    Debugging output.</p>
<p><strong>--help</strong>
    Get usage; same as usage.</p>
<p><strong>--verbose</strong>
    Lots of output.</p>
<p><strong>--commit</strong>   
    Commit the data to database.</p>
<p><strong>--testnumber</strong> <em>NUM</em>   
    Number of iterations for testing (<strong>in non-commit mode only</strong>).</p>
<p><strong>--restart</strong> <em>NUM</em>   
    data file line number to start loading data from (start counting after the header)</p>
<p><strong>--user</strong> <em>STRING</em>
    The user name, used to set value for row_user_id. The user must already be in Core::UserInfo table. [Default: from $HOME/.gus.properties file]</p>
<p><strong>--group</strong> <em>STRING</em>
    The group name, used to set value for row_group_id. The group must already be in Core::GroupInfo table. [Default: from $HOME/.gus.properties file]</p>
<p><strong>--project</strong> <em>STRING</em>
    The project name, used to set value for row_project_id. The project must already be in Core::ProjectInfo table. [Default: from $HOME/.gus.properties file]</p>
<p>
</p>
<hr />
<h1><a name="notes">NOTES</a></h1>
<p>Before you can run this plug-in you need to create the Perl objects for the views you will be loading, should these objects not exist yet. Based on the ``build'' system, this will involve two steps. First, check out the RAD, CBIL, GUS and Install modules from the cvs repository; secondly, build the GUS_HOME which the Perl objects reside in.</p>
<p>The plug-in outputs a print statement to STDOUT (for possible redirection to a log file) which lists the number of data file lines read (counting empty lines, but not counting the header and the lines preceding it in the data file) and any warning <code>statement(s)</code> regarding data lines which have not been loaded into RAD3.</p>
<p>Make sure that the <em>.gus.properties</em> file of the user contains the correct login name [RAD3rw]. Also, if the group and project differ from the default values in <em>.gus.properties</em>, <em>please specify the proper group and project name on the command line using --group and --project options respectively</em>.</p>
<p>
</p>
<h2><a name="data_file"><em>data_file</em></a></h2>
<p>The data file should be in tab-delimited text format with one header row and a row for each element. All rows should contain the same number of tabs/fields.</p>
<p>* The header contains a list of attributes, which can be divided into two categories. One is position attributes which is used to identify the location of each element in array or compositeElement identifier such as probe set name. The other is view attributes which is defined in the view of ElementResultImp and CompositeElementResultImp.</p>
<p>* All attributes in the header should be small case. View attributes should be the same as defined in the views of interest.</p>
<p>* Every element for which the position attributes are available should have these stored in the database in order to determine the element_id and/or composite_element_id.</p>
<p>* Depending on array platform, the position attributes are different. If  the command line argument ``e_subclass_view'' is set to ``Spot'', then position attributes will be array_row, array_column, grid_row, grid_column, sub_row and sub_column. If  the command line argument ``e_subclass_view'' is set to ``ShortOligo'', then position attributes will be x_position and y_position. You will need to have these columns in the data file for each row.</p>
<p>* If you only load the compositeElementResult for affymetrix data, you have option to use probe set identifier to set the composite_element_id without using the position attributes of x_position and y_position. First, set command line argument ``c_subclass_view'' to ``ShortOligoFamily'', second, use the ``posOption'' to set the probe set identifier, its default is 1, which uses ``name'' as the probe set identifier; 2 means using ``external_database_release_id''and ``source_id'' as the probe set identifier; 3 means using ``external_database_release_id'', ``source_id'' and ``name'' as the probe set identifier.</p>
<p>* If the data file contains two-channel array data, then you can use ``channel1.attributeName'' and ``channel2.attributeName'' to denote each channel data.</p>
<p>* Empty lines in the data files are ignored. All quotes within a data line are removed by the plug-in.</p>
<p>* If any values in data file larger than the maximum value or smaller than minimum value that corresponding field in database allows, then the plugin will reset the value to maximum or minimum value of that field.</p>
<p>Please double-check that your data file has no inconsistencies before loading the data. If a column in your data file contains information which should be separated and stored into different table/view attributes, you will need to re-parse your file and separate this information into different columns before running the plug-in. Similarly, if information from different columns of your data file refers to one table/view attribute, you will need to re-parse your data file and merge this information into one column.</p>
<p>
</p>
<h2><a name="e_subclass_view"><em>e_subclass_view</em></a></h2>
<p>Legal values for this argument must be either ``Spot'' or ``ShortOligo'' or ``SAGETagMapping''.</p>
<p>
</p>
<h2><a name="c_subclass_view"><em>c_subclass_view</em></a></h2>
<p>Legal values for this argument must be either ``SpotFamily'' or ``ShortOligoFamily'' or ``SAGETag''.</p>
<p>
</p>
<h2><a name="er_subclass_view"><em>er_subclass_view</em></a></h2>
<p>Legal values for ``er_subclass_view'' must be ``ArrayVisionElementResult'', ``GenePixElementResult'', ``SpotElementResult'', ``ScanalyzeElementResult'', ``AgilentElementResult'', ``QuantArrayElementResult'', ``AffymetrixCEL''.</p>
<p>
</p>
<h2><a name="cr_subclass_view"><em>cr_subclass_view</em></a></h2>
<p>Legal values for ``cr_subclass_view'' must be ``AffymetrixMAS4'', ``AffymetrixMAS5'', ``SAGETagResult'', ``MOIDResult''.

</p>
<p>
</p>
<h2><a name="restart"><em>restart</em></a></h2>
<p>If you need to restart loading from your data file from a specific line (e.g. due to previous interruptions in data loading), give the line number of this line in the --restart option. You should start your line count from the line after the header line and include any empty lines. 

</p>
<p>
</p>
<h2><a name="testnumber_if_you_are_testing_the_plugin_and_want_only_to_test_n_lines_from_your_data_file,_use_the_testnumber_option._if_you_set_this_to_n,_it_will_test_the_plugin_on_the_first_n_data_lines_(counting_empty_lines)_after_the_header_or_after_restart,_if_this_is_set."><em>testnumber</em>
 
If you are testing the plug-in and want only to test n lines from your data file, use the --testnumber option. If you set this to n, it will test the plug-in on the first n data lines (counting empty lines) after the header or after --restart, if this is set.</a></h2>
<p>
</p>
<hr />
<h1><a name="author">AUTHOR</a></h1>
<p>Written by Junmin Liu.

</p>
<p>
</p>
<hr />
<h1><a name="copyright">COPYRIGHT</a></h1>
<p>Copyright Trustees of University of Pennsylvania 2003.

</p>
<pre>



</pre>

</body>

</html>
