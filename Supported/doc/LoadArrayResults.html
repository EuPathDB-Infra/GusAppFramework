
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>GUS::Supported::Plugin::LoadArrayResults -  Loads data into ElementResultImp, CompositeElementResultImp tables in RAD database.</title>
<link rev="made" href="mailto:root@localhost" />
</head>

<body style="background-color: white">

<p><a name="__index__"></a></p>
<!-- INDEX BEGIN -->

<ul>

	<li><a href="#name">NAME</a></li>
	<li><a href="#synopsis">SYNOPSIS</a></li>
	<li><a href="#description">DESCRIPTION</a></li>
	<li><a href="#tables_affected">TABLES AFFECTED</a></li>
	<li><a href="#tables_depended_on">TABLES DEPENDED ON</a></li>
	<li><a href="#failure_cases">FAILURE CASES</a></li>
	<li><a href="#restarting">RESTARTING</a></li>
	<li><a href="#arguments_in_detail">ARGUMENTS IN DETAIL</a></li>
	<li><a href="#notes">NOTES</a></li>
	<ul>

		<li><a href="#examples">Examples</a></li>
		<li><a href="#specicial_notes">Specicial notes</a></li>
		<li><a href="#data_file"><em>data_file</em></a></li>
	</ul>

	<li><a href="#author">AUTHOR</a></li>
	<li><a href="#copyright">COPYRIGHT</a></li>
</ul>
<!-- INDEX END -->

<hr />
<p>
</p>
<h1><a name="name">NAME</a></h1>
<p>GUS::Supported::Plugin::LoadArrayResults -  Loads data into ElementResultImp, CompositeElementResultImp tables in RAD database.</p>
<p>
</p>
<hr />
<h1><a name="synopsis">SYNOPSIS</a></h1>
<p>ga GUS::Supported::Plugin::LoadArrayResults --help</p>
<p>ga GUS::Supported::Plugin::LoadArrayResults --helpHTML</p>
<p>ga GUS::Supported::Plugin::LoadArrayResults --data_file file [--e_subclass_view enum] [--c_subclass_view enum] [--posOption enum] --quantification_id integer [--rel_quantification_id integer] [--cel_quantification_id integer] --array_design_id integer [--noWarning ] [--cr_subclass_view string] [--er_subclass_view string] [--testnumber integer] [--restart integer] [--commit ] [--debug ] [--sqlVerbose ] [--verbose ] [--veryVerbose ] [--user string] [--group string] [--project string] [--comment string] [--algoinvo integer] [--gusconfigfile file]</p>
<p>
</p>
<hr />
<h1><a name="description">DESCRIPTION</a></h1>
<p>This is a plug-in that loads array  (spotted microarray and oligonucleotide array) result data into CompositeElementResultImp, ElementResultImp, set the value of result_table_id in Quantification table and if applicable, link the chp quantification_id with cel quantification_id in relatedQuantification table.</p>
<p>
</p>
<hr />
<h1><a name="tables_affected">TABLES AFFECTED</a></h1>
<dl>
<dt><strong><a name="item_rad%3a%3aquantification"><strong>RAD::Quantification</strong></a></strong><br />
</dt>
<p>Update the result_table_id for correponding <code>quantification(s)</code> in the RAD.Quantification table</p>
<dt><strong><a name="item_rad%3a%3arelatedquantification"><strong>RAD::RelatedQuantification</strong></a></strong><br />
</dt>
<p>Insert two rows for the related quantifications in the RAD.RelatedQuantification table</p>
<dt><strong><a name="item_rad%3a%3aelementresultimp"><strong>RAD::ElementResultImp</strong></a></strong><br />
</dt>
<p>Enters here many rows for each quantification</p>
<dt><strong><a name="item_rad%3a%3acompositeresultelementimp"><strong>RAD::CompositeResultElementImp</strong></a></strong><br />
</dt>
<p>Enters here many rows for each quantification</p>
<dt><strong><a name="item_core%3a%3aalgorithminvocation"><strong>Core::AlgorithmInvocation</strong></a></strong><br />
</dt>
<p>The plugin manager (ga) inserts a row into this table describing the plugin and the parameter values used</p>
</dl>
<p>
</p>
<hr />
<h1><a name="tables_depended_on">TABLES DEPENDED ON</a></h1>
<dl>
<dt><strong><a name="item_study%3a%3aquantification"><strong>Study::Quantification</strong></a></strong><br />
</dt>
<p>Holds the corresponding <code>quantification(s)</code> that user loads the data for</p>
<dt><strong><a name="item_rad%3a%3aarraydesign"><strong>RAD::ArrayDesign</strong></a></strong><br />
</dt>
<p>Holds array information</p>
<dt><strong><a name="item_core%3a%3aalgorithm"><strong>Core::Algorithm</strong></a></strong><br />
</dt>
<p>The algorithm (ie, this plugin) responsible for the update</p>
<dt><strong><a name="item_core%3a%3aalgorithmimplementation"><strong>Core::AlgorithmImplementation</strong></a></strong><br />
</dt>
<p>The specific implementation of it</p>
<dt><strong><a name="item_core%3a%3aalgorithmparamkey"><strong>Core::AlgorithmParamKey</strong></a></strong><br />
</dt>
<p>The keys for the plugin's command line parameters</p>
<dt><strong><a name="item_core%3a%3aalgorithmparamkeytype"><strong>Core::AlgorithmParamKeyType</strong></a></strong><br />
</dt>
<p>The data types of the parameters</p>
</dl>
<p>
</p>
<hr />
<h1><a name="failure_cases">FAILURE CASES</a></h1>
<p>Files not in an appropriate format.</p>
<p>
</p>
<hr />
<h1><a name="restarting">RESTARTING</a></h1>
<p>Loading can be resumed using the <em>--restart n</em> argument where n is the line number in the data file of the first row to load upon restarting (line 1 is the first line after the header, empty lines are counted).</p>
<p>
</p>
<hr />
<h1><a name="arguments_in_detail">ARGUMENTS IN DETAIL</a></h1>
<dl>
<dt><strong><a name="item_file">--data_file <em>file</em> (Required)</a></strong><br />
</dt>
<p>The full path of the data_file.</p>
<dl>
<dt><strong><a name="item_format%3a_see_the_notes_for_the_format_of_this_fil">format: See the NOTES for the format of this file</a></strong><br />
</dt>
<dl>
<dt><strong><a name="item_mustexist%3a_1">mustExist: 1</a></strong><br />
</dt>
</dl>
</dl>
<dt></dt>
<dt><strong><a name="item_%2d%2de_subclass_view_enum">--e_subclass_view <em>enum</em></a></strong><br />
</dt>
<dd>
Allowed values: ShortOligo,Spot,SAGETagMapping
</dd>
<p>view name of ElementImp table.</p>
<dl>
<dt><strong><a name="item_enum%3a_shortoligo%2cspot%2csagetagmapping">enum: ShortOligo,Spot,SAGETagMapping</a></strong><br />
</dt>
</dl>
<dt></dt>
<dt><strong><a name="item_%2d%2dc_subclass_view_enum">--c_subclass_view <em>enum</em></a></strong><br />
</dt>
<dd>
Allowed values: ShortOligoFamily,SpotFamily,SAGETag
</dd>
<p>view name of CompositeElementImp table.</p>
<dl>
<dt><strong><a name="item_enum%3a_shortoligofamily%2cspotfamily%2csagetag">enum: ShortOligoFamily,SpotFamily,SAGETag</a></strong><br />
</dt>
</dl>
<dt></dt>
<dt><strong><a name="item_%2d%2dposoption_enum">--posOption <em>enum</em></a></strong><br />
</dt>
<dd>
Allowed values: 1, 2, 3
</dd>
<p>option choice of positionList of ShortOligoFamily table, default is 1.</p>
<dl>
<dt><strong><a name="item_default%3a_1">default: 1</a></strong><br />
</dt>
<dl>
<dt><strong><a name="item_enum%3a_1%2c_2%2c_3">enum: 1, 2, 3</a></strong><br />
</dt>
</dl>
</dl>
<dt></dt>
<dt><strong><a name="item_integer">--quantification_id <em>integer</em> (Required)</a></strong><br />
</dt>
<p>RAD quantification id, the entry in Quantification table.</p>
<dt><strong><a name="item_%2d%2drel_quantification_id_integer">--rel_quantification_id <em>integer</em></a></strong><br />
</dt>
<p>for associated channel, RAD quantification id, the entry in Quantification table.</p>
<dt><strong><a name="item_%2d%2dcel_quantification_id_integer">--cel_quantification_id <em>integer</em></a></strong><br />
</dt>
<p>if load affymetrix .chp file, then relate the associated quantification_id for affymetrix cel file in the RelatedQuantification table.</p>
<dt><strong>--array_design_id <em>integer</em> (Required)</strong><br />
</dt>
<p>RAD array design id, the entry in ArrayDesign table.</p>
<dt><strong><a name="item_%2d%2dnowarning">--noWarning <em></em></a></strong><br />
</dt>
<p>if specified, generate no warning messages.</p>
<dt><strong><a name="item_%2d%2dcr_subclass_view_string">--cr_subclass_view <em>string</em></a></strong><br />
</dt>
<p>view name of CompositeElementResultImp table.</p>
<dt><strong><a name="item_%2d%2der_subclass_view_string">--er_subclass_view <em>string</em></a></strong><br />
</dt>
<p>view name of ElementResultImp table.</p>
<dt><strong><a name="item_%2d%2dtestnumber_integer">--testnumber <em>integer</em></a></strong><br />
</dt>
<p>optional, number of iterations for testing</p>
<dt><strong><a name="item_%2d%2drestart_integer">--restart <em>integer</em></a></strong><br />
</dt>
<p>optional,data file line number to start loading data from(start counting after the header)</p>
<dt><strong><a name="item_%2d%2dcommit">--commit <em></em></a></strong><br />
</dt>
<p>Actualy commit changes to the database</p>
<dl>
<dt><strong><a name="item_default%3a_0">default: 0</a></strong><br />
</dt>
</dl>
<dt></dt>
<dt><strong><a name="item_%2d%2ddebug">--debug <em></em></a></strong><br />
</dt>
<p>output extra debugging information to verify correct operation</p>
<dl>
<dt><strong>default: 0</strong><br />
</dt>
</dl>
<dt></dt>
<dt><strong><a name="item_%2d%2dsqlverbose">--sqlVerbose <em></em></a></strong><br />
</dt>
<p>Use this flag to switch on a log of SQL statements executed by Perl object layer.</p>
<dl>
<dt><strong>default: 0</strong><br />
</dt>
</dl>
<dt></dt>
<dt><strong><a name="item_%2d%2dverbose">--verbose <em></em></a></strong><br />
</dt>
<p>Use this flag to enable output of logVerbose messages from the plugin.</p>
<dl>
<dt><strong>default: 0</strong><br />
</dt>
</dl>
<dt></dt>
<dt><strong><a name="item_%2d%2dveryverbose">--veryVerbose <em></em></a></strong><br />
</dt>
<p>Use this flag to enable output of logVeryVerbose and logVerbose messages from the plugin.</p>
<dl>
<dt><strong>default: 0</strong><br />
</dt>
</dl>
<dt></dt>
<dt><strong><a name="item_%2d%2duser_string">--user <em>string</em></a></strong><br />
</dt>
<p>Set the user name in new or changed rows with this GUS user name (from Core.UserInfo table) [default is value in gus config file]</p>
<dt><strong><a name="item_%2d%2dgroup_string">--group <em>string</em></a></strong><br />
</dt>
<p>Set the group name in new or changed rows with this GUS group name (from Core.GroupInfo table) [default is value in gus config file]</p>
<dt><strong><a name="item_%2d%2dproject_string">--project <em>string</em></a></strong><br />
</dt>
<p>set the project name in new or changed rows with this GUS project name (from Core.Project table) [default is value in gus config file]</p>
<dt><strong><a name="item_%2d%2dcomment_string">--comment <em>string</em></a></strong><br />
</dt>
<p>Set Core.AlgorithmInvocation.comment with this comment</p>
<dt><strong><a name="item_%2d%2dalgoinvo_integer">--algoinvo <em>integer</em></a></strong><br />
</dt>
<p>Use this algorithm invocation id in the event that a new algorithm invocation id cannot be generated automatically</p>
<dl>
<dt><strong>default: 1</strong><br />
</dt>
</dl>
<dt></dt>
<dt><strong><a name="item_%2d%2dgusconfigfile_file">--gusconfigfile <em>file</em></a></strong><br />
</dt>
<p>The gus config file to use [note: the default is your $GUS_CONFIG_FILE]</p>
<dl>
<dt><strong><a name="item_default%3a_%2fhome%2fjunmin%2fgus35%2f%2egus%2epro">default: /home/junmin/gus35/.gus.properties</a></strong><br />
</dt>
<dl>
<dt><strong><a name="item_format%3a_gus_config_file_format">format: GUS config file format</a></strong><br />
</dt>
</dl>
<dl>
<dt><strong>mustExist: 1</strong><br />
</dt>
</dl>
</dl>
<dt></dt>
<dt><strong><a name="item_%2d%2dhelp">--help <em></em></a></strong><br />
</dt>
<p>Request long help</p>
<dt><strong><a name="item_%2d%2dhelphtml">--helpHTML <em></em></a></strong><br />
</dt>
<p>Request help in HTML</p>
</dl>
<p>
</p>
<hr />
<h1><a name="notes">NOTES</a></h1>
<p>
</p>
<h2><a name="examples">Examples</a></h2>
<p>*For help
ga GUS::Supported::Plugin::LoadArrayResults <strong>[options]</strong> <strong>--help</strong></p>
<p>*For loading data into ElementResultImp table
ga GUS::Supported::Plugin::LoadArrayResults <strong>[options]</strong> <strong>--data_file</strong> data_file <strong>--array_design_id</strong> array_design_id <strong>--e_subclass_view</strong> e_subclass_view <strong>--quantification_id</strong> quantification_id <strong>--er_subclass_view</strong> er_subclass_view <strong>--debug</strong> &gt; logfile</p>
<p>*For loading data into CompositeElementResultImp table
ga GUS::Supported::Plugin::LoadArrayResults <strong>[options]</strong> <strong>--data_file</strong> data_file <strong>--array_design_id</strong> array_design_id <strong>--e_subclass_view</strong> e_subclass_view <strong>--quantification_id</strong> quantification_id <strong>--cr_subclass_view</strong> cr_subclass_view <strong>--commit</strong> &gt; logfile</p>
<p>*For loading data into CompositeElementResultImp table such as loading Affymetrix Chp data
ga  GUS::Supported::Plugin::LoadArrayResults <strong>[options]</strong> <strong>--data_file</strong> data_file <strong>--array_design_id</strong> array_design_id <strong>--c_subclass_view</strong> c_subclass_view  <strong>--quantification_id</strong> quantification_id <strong>--cr_subclass_view</strong> cr_subclass_view <strong>--debug</strong> &gt; logfile</p>
<p>*For loading data into ElementResultImp and CompositeElementResultImp table
ga  GUS::Supported::Plugin::LoadArrayResults <strong>[options]</strong> <strong>--data_file</strong> data_file <strong>--array_design_id</strong> array_design_id <strong>--e_subclass_view</strong> e_subclass_view  <strong>--quantification_id</strong> quantification_id <strong>--er_subclass_view</strong> er_subclass_view <strong>--cr_subclass_view</strong> cr_subclass_view <strong>--rel_quantification_id</strong> rel_quantification_id <strong>--debug</strong> &gt; logfile</p>
<p>*For loading two-channel data into ElementResultImp and CompositeElementResultImp table
ga  GUS::Supported::Plugin::LoadArrayResults <strong>[options]</strong> <strong>--data_file</strong> data_file <strong>--array_design_id</strong> array_design_id <strong>--e_subclass_view</strong> e_subclass_view  <strong>--quantification_id</strong> quantification_id <strong>--er_subclass_view</strong> er_subclass_view <strong>--cr_subclass_view</strong> cr_subclass_view <strong>--rel_quantification_id</strong> rel_quantification_id <strong>--commit</strong> &gt; logfile</p>
<p>
</p>
<h2><a name="specicial_notes">Specicial notes</a></h2>
<p>The plug-in outputs a print statement to STDOUT (for possible redirection to a log file) which lists the number of data file lines read (counting empty lines, but not counting the header and the lines preceding it in the data file) and any warning <code>statement(s)</code> regarding data lines which have not been loaded into RAD.</p>
<p>
</p>
<h2><a name="data_file"><em>data_file</em></a></h2>
<p>The data file should be in tab-delimited text format with one header row and a row for each element. All rows should contain the same number of tabs/fields.</p>
<p>* The header contains a list of attributes, which can be divided into two categories. One is position attributes which is used to identify the location of each element in array or compositeElement identifier such as probe set name. The other is view attributes which is defined in the view of ElementResultImp and CompositeElementResultImp.</p>
<p>* All attributes in the header should be small case. View attributes should be the same as defined in the views of interest.</p>
<p>* Every element for which the position attributes are available should have these stored in the database in order to determine the element_id and/or composite_element_id.</p>
<p>* Depending on array platform, the position attributes are different. If  the command line argument ``e_subclass_view'' is set to ``Spot'', then position attributes will be array_row, array_column, grid_row, grid_column, sub_row and sub_column. If  the command line argument ``e_subclass_view'' is set to ``ShortOligo'', then position attributes will be x_position and y_position. You will need to have these columns in the data file for each row.</p>
<p>* If you only load the compositeElementResult for affymetrix data, you have option to use probe set identifier to set the composite_element_id without using the position attributes of x_position and y_position. First, set command line argument ``c_subclass_view'' to ``ShortOligoFamily'', second, use the ``posOption'' to set the probe set identifier, its default is 1, which uses ``name'' as the probe set identifier; 2 means using ``external_database_release_id''and ``source_id'' as the probe set identifier; 3 means using ``external_database_release_id'', ``source_id'' and ``name'' as the probe set identifier.</p>
<p>* If the data file contains two-channel array data, then you can use ``channel1.attributeName'' and ``channel2.attributeName'' to denote each channel data.</p>
<p>* Empty lines in the data files are ignored. All quotes within a data line are removed by the plug-in.</p>
<p>* If any values in data file larger than the maximum value or smaller than minimum value that corresponding field in database allows, then the plugin will reset the value to maximum or minimum value of that field.
Please double-check that your data file has no inconsistencies before loading the data. If a column in your data file contains information which should be separated and stored into different table/view attributes, you will need to re-parse your file and separate this information into different columns before running the plug-in. Similarly, if information from different columns of your data file refers to one table/view attribute, you will need to re-parse your data file and merge this information into one column.</p>
<p>
</p>
<hr />
<h1><a name="author">AUTHOR</a></h1>
<p>Written by Junmin Liu.</p>
<p>
</p>
<hr />
<h1><a name="copyright">COPYRIGHT</a></h1>
<p>Copyright Trustees of University of Pennsylvania 2003.</p>

</body>

</html>
