<HTML>
<HEAD>
<TITLE>GUS::RAD::Plugin::ControlLoader.pm</TITLE>
<LINK REV="made" HREF="mailto:bhcompile@porky.devel.redhat.com">
</HEAD>

<BODY>

<A NAME="__index__"></A>
<!-- INDEX BEGIN -->

<UL>

	<LI><A HREF="#name">NAME</A></LI>
	<LI><A HREF="#synopsis">SYNOPSIS</A></LI>
	<LI><A HREF="#description">DESCRIPTION</A></LI>
	<LI><A HREF="#arguments">ARGUMENTS</A></LI>
	<LI><A HREF="#options">OPTIONS</A></LI>
	<LI><A HREF="#notes">NOTES</A></LI>
	<UL>

		<LI><A HREF="#data_file"><EM>data_file</EM></A></LI>
		<LI><A HREF="#e_subclass_view"><EM>e_subclass_view</EM></A></LI>
		<LI><A HREF="#c_subclass_view"><EM>c_subclass_view</EM></A></LI>
		<LI><A HREF="#restart"><EM>restart</EM></A></LI>
		<LI><A HREF="#testnumber"><EM>testnumber</EM></A></LI>
	</UL>

	<LI><A HREF="#author">AUTHOR</A></LI>
	<LI><A HREF="#copyright">COPYRIGHT</A></LI>
</UL>
<!-- INDEX END -->

<HR>
<P>
<H1><A NAME="name">NAME</A></H1>
<P>GUS::RAD::Plugin::ControlLoader</P>
<P>
<HR>
<H1><A NAME="synopsis">SYNOPSIS</A></H1>
<P>*For help</P>
<P>ga GUS::RAD::Plugin::ControlLoader <STRONG>[options]</STRONG> <STRONG>--help</STRONG></P>
<P>*For loading data into Control table</P>
<P>ga GUS::RAD::Plugin::ControlLoader <STRONG>[options]</STRONG> <STRONG>--data_file</STRONG> data_file <STRONG>--array_id</STRONG> array_id <STRONG>--e_subclass_view</STRONG> e_subclass_view <STRONG>--debug</STRONG> &gt; logfile</P>
<P>*For loading data into Control table</P>
<P>ga GUS::RAD::Plugin::ControlLoader <STRONG>[options]</STRONG> <STRONG>--data_file</STRONG> data_file <STRONG>--array_id</STRONG> array_id <STRONG>--c_subclass_view</STRONG> c_subclass_view <STRONG>--commit</STRONG> &gt; logfile</P>
<P>
<HR>
<H1><A NAME="description">DESCRIPTION</A></H1>
<PRE>
    The plug-in loads information on the controls on a given array (spotted microarray and oligonucleotide array) data into the RAD3.control table. And it assumes that the array information has already been loaded into the appropriate view(s) of (Composite)ElementImp.</PRE>
<P>
<HR>
<H1><A NAME="arguments">ARGUMENTS</A></H1>
<P><STRONG>--data_file</STRONG> <EM>data_file</EM>  [require the absolute pathname]</P>
<PRE>
    The file containing the mapping information from (composite)element identifiers to attributes in RAD3.Control for all those (composite)elements on the array which represent controls.</PRE>
<P><STRONG>--array_id</STRONG> <EM>array_id</EM>  [require must be one of array_id in RAD3::Array table]</P>
<PRE>
    The identifier in RAD3.Array of the array whose controls are being loaded. set value of the array_id in ElementImp or CompositeElementImp table in order to determine the element_id or composite_element_id for setting the row_id in control table</PRE>
<P>
<HR>
<H1><A NAME="options">OPTIONS</A></H1>
<P><STRONG>--e_subclass_view</STRONG> <EM>e_subclass_view</EM>  [optional, must be provided is c_subclass_view is not provided, must be one of view name for RAD3::ElementImp table]
    The name of the view of RAD3.ElementImp to which Control.table_id should point for every control loaded in this run, if the controls refer to elements on the array. It is being used for determining the element_id for setting the row_id in control table if c_subclass_view not set</P>
<P><STRONG>--c_subclass_view</STRONG> <EM>c_subclass_view</EM>  [optional, must be provided is e_subclass_view is not provided, must be one of view name for RAD3::CompositeElementImp table]
    The name of the view of RAD3.CompositeElementImp to which Control.table_id should point for every control loaded in this run, if the controls refer to composite_elements on the array. It is being used for determining the composite_element_id for setting the row_id in control table if e_subclass_view not set</P>
<P><STRONG>--posOption</STRONG> <EM>posOption</EM>  [optional, default is 1, can be 1, 2 or 3]
    to be used when c_sublass_view is set to ``ShortOligoFamily'', to specify what the data_file uses as probe-set identifier: set to 1 if ``name'' is used, set to 2 if the pair (external_database_release_id, and source_id) is used, set to 3 if the triplet (name, external_database_release_id and source_id) is used.</P>
<P><STRONG>--debug</STRONG>
    Debugging output.</P>
<P><STRONG>--help</STRONG>
    Get usage; same as usage.</P>
<P><STRONG>--verbose</STRONG>
    Lots of output.</P>
<P><STRONG>--commit</STRONG>   
    Commit the data to database.</P>
<P><STRONG>--testnumber</STRONG> <EM>NUM</EM>   
    Number of iterations for testing (<STRONG>in non-commit mode only</STRONG>).</P>
<P><STRONG>--restart</STRONG> <EM>NUM</EM>   
    data file line number to start loading data from (start counting after the header)</P>
<P><STRONG>--user</STRONG> <EM>STRING</EM>
    The user name, used to set value for row_user_id. The user must already be in Core::UserInfo table. [Default: from $HOME/.gus.properties file]</P>
<P><STRONG>--group</STRONG> <EM>STRING</EM>
    The group name, used to set value for row_group_id. The group must already be in Core::GroupInfo table. [Default: from $HOME/.gus.properties file]</P>
<P><STRONG>--project</STRONG> <EM>STRING</EM>
    The project name, used to set value for row_project_id. The project must already be in Core::ProjectInfo table. [Default: from $HOME/.gus.properties file]</P>
<P>
<HR>
<H1><A NAME="notes">NOTES</A></H1>
<P>Before you can run this plug-in you need to create the Perl objects for the views you will be loading, should these objects not exist yet. Based on the ``build'' system, this will involve two steps. First, check out the RAD, CBIL, GUS and Install modules from the cvs repository; secondly, build the GUS_HOME which the Perl objects reside in.</P>
<P>The plug-in outputs a print statement to STDOUT (for possible redirection to a log file) which lists the number of data file lines read (counting empty lines, but not counting the header and the lines preceding it in the data file) and any warning <CODE>statement(s)</CODE> regarding data lines which have not been loaded into RAD3.</P>
<P>Make sure that the <EM>.gus.properties</EM> file of the user contains the correct login name [RAD3rw]. Also, if the group and project differ from the default values in <EM>.gus.properties</EM>, <EM>please specify the proper group and project name on the command line using --group and --project options respectively</EM>.</P>
<P>
<H2><A NAME="data_file"><EM>data_file</EM></A></H2>
<P>The data file should be in tab-delimited text format with one header row and a row for each control (composite) element. All rows should contain the same number of tabs/fields.</P>
<P>* The header should contain two categories of fields: (1) fields that identify the (composite) element on the array and (2) fields that correspond to the attributes in RAD3.Control. As for (1), these should be: (i) (array_row, array_column, grid_row, grid_column, sub_row, sub_column) if e_subclass_view is set to Spot, (ii) (x_position,y_position) if e_subclass_view is set to ShortOligo, (iii) the identifiers specified in --posOption if c_subclass_view is set to ShortOligoFamily. These attributes should be in lower case and spelled exactly as they are spelled in the database. As for (2) these fields, should be preceded by ``control.'' and they should be: control.control_type_id, control.name, control.value, control.unit_type_id (if applicable).</P>
<P>* Empty lines in the data files are ignored. All quotes within a data line are removed by the plug-in.</P>
<P>Please double-check that your data file has no inconsistencies before loading the data.</P>
<P>
<H2><A NAME="e_subclass_view"><EM>e_subclass_view</EM></A></H2>
<P>Legal values for this argument must be either ``Spot'' or ``ShortOligo''.</P>
<P>
<H2><A NAME="c_subclass_view"><EM>c_subclass_view</EM></A></H2>
<P>Legal values for this argument must be either ``SpotFamily'' or ``ShortOligoFamily''.</P>
<P>
<H2><A NAME="restart"><EM>restart</EM></A></H2>
<P>If you need to restart loading from your data file from a specific line (e.g. due to previous interruptions in data loading), give the line number of this line in the --restart option. You should start your line count from the line after the header line and include any empty lines.</P>
<P>
<H2><A NAME="testnumber"><EM>testnumber</EM></A></H2>
<P>If you are testing the plug-in and want only to test n lines from your data file, use the --testnumber option. If you set this to n, it will test the plug-in on the first n data lines (counting empty lines) after the header or after --restart, if this is set.</P>
<P>
<HR>
<H1><A NAME="author">AUTHOR</A></H1>
<P>Written by Junmin Liu.</P>
<P>
<HR>
<H1><A NAME="copyright">COPYRIGHT</A></H1>
<P>Copyright Trustees of University of Pennsylvania 2003.</P>

</BODY>

</HTML>
