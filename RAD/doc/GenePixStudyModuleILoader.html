
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>GUS::RAD::Plugin::GenePixStudyModuleILoader -  Creates assays, acquisitions and quantifications for GenePix assays en-batch.</title>
<link rev="made" href="mailto:root@localhost" />
</head>

<body style="background-color: white">

<p><a name="__index__"></a></p>
<!-- INDEX BEGIN -->

<ul>

	<li><a href="#name">NAME</a></li>
	<li><a href="#synopsis">SYNOPSIS</a></li>
	<li><a href="#description">DESCRIPTION</a></li>
	<li><a href="#tables_affected">TABLES AFFECTED</a></li>
	<li><a href="#tables_depended_on">TABLES DEPENDED ON</a></li>
	<li><a href="#failure_cases">FAILURE CASES</a></li>
	<li><a href="#restarting">RESTARTING</a></li>
	<li><a href="#arguments_in_detail">ARGUMENTS IN DETAIL</a></li>
	<li><a href="#notes">NOTES</a></li>
	<ul>

		<li><a href="#general_description"><em>General Description</em></a></li>
		<li><a href="#config_file_[_required_]"><em>Config File [ required ]</em></a></li>
		<li><a href="#database_requirements"><em>Database requirements</em></a></li>
		<li><a href="#warning_(for_noncbil_instances)"><em>Warning (for non-CBIL instances)</em></a></li>
	</ul>

	<li><a href="#examples">EXAMPLES</a></li>
	<li><a href="#author">AUTHOR</a></li>
	<li><a href="#copyright">COPYRIGHT</a></li>
</ul>
<!-- INDEX END -->

<hr />
<p>
</p>
<h1><a name="name">NAME</a></h1>
<p>GUS::RAD::Plugin::GenePixStudyModuleILoader -  Creates assays, acquisitions and quantifications for GenePix assays en-batch.</p>
<p>
</p>
<hr />
<h1><a name="synopsis">SYNOPSIS</a></h1>
<p>ga GUS::RAD::Plugin::GenePixStudyModuleILoader --help</p>
<p>ga GUS::RAD::Plugin::GenePixStudyModuleILoader --helpHTML</p>
<p>ga GUS::RAD::Plugin::GenePixStudyModuleILoader --cfg_file file [--skip string-list] [--testnumber integer] [--commit ] [--debug ] [--sqlVerbose ] [--verbose ] [--veryVerbose ] [--user string] [--group string] [--project string] [--comment string] [--algoinvo integer] [--gusconfigfile file]</p>
<p>
</p>
<hr />
<h1><a name="description">DESCRIPTION</a></h1>
<p>Create assays, acquisitions and quantifications for GenePix assays in RAD3 tables from multiple files in batch mode.
</p>
<hr />
<h1><a name="tables_affected">TABLES AFFECTED</a></h1>
<dl>
<dt><strong><a name="item_rad3%3a%3astudy"><strong>RAD3::Study</strong></a></strong><br />
</dt>
<p>One row for the given study is entered</p>
<dt><strong><a name="item_rad3%3a%3aassay"><strong>RAD3::Assay</strong></a></strong><br />
</dt>
<p>One row for each distinct assay is entered</p>
<dt><strong><a name="item_rad3%3a%3astudyassay"><strong>RAD3::StudyAssay</strong></a></strong><br />
</dt>
<p>One row linking the given study to each assay is entered</p>
<dt><strong><a name="item_rad3%3a%3aacquisition"><strong>RAD3::Acquisition</strong></a></strong><br />
</dt>
<p>Two rows, two for each channel (Cy5 and Cy3), corresponding to one assay, are entered</p>
<dt><strong><a name="item_rad3%3a%3aquantification"><strong>RAD3::Quantification</strong></a></strong><br />
</dt>
<p>Two rows, two for each channel (Cy5 and Cy3), corresponding to one acquisition, are entered</p>
<dt><strong><a name="item_rad3%3a%3aquantificationparam"><strong>RAD3::QuantificationParam</strong></a></strong><br />
</dt>
<p>Eight rows, four for each channel (Cy5 and Cy3), corresponding to four parameters per quantification, are entered</p>
<dt><strong><a name="item_rad3%3a%3arelatedacquisition"><strong>RAD3::RelatedAcquisition</strong></a></strong><br />
</dt>
<p>Two rows, associating two channels (Cy5 and Cy3) with each other, are entered</p>
<dt><strong><a name="item_rad3%3a%3arelatedquantification"><strong>RAD3::RelatedQuantification</strong></a></strong><br />
</dt>
<p>Two rows, associating two channels (Cy5 and Cy3) with each other, are entered</p>
<dt><strong><a name="item_core%3a%3aalgorithminvocation"><strong>Core::AlgorithmInvocation</strong></a></strong><br />
</dt>
<p>The plugin manager (ga) inserts a row into this table describing the plugin and the parameter values used</p>
</dl>
<p>
</p>
<hr />
<h1><a name="tables_depended_on">TABLES DEPENDED ON</a></h1>
<dl>
<dt><strong><strong>RAD3::Study</strong></strong><br />
</dt>
<p>Holds study information</p>
<dt><strong><a name="item_rad3%3a%3aarray"><strong>RAD3::Array</strong></a></strong><br />
</dt>
<p>Holds array information</p>
<dt><strong><a name="item_rad3%3a%3achannel"><strong>RAD3::Channel</strong></a></strong><br />
</dt>
<p>Holds channel (Cy5 or Cy3 in this case) information</p>
<dt><strong><a name="item_rad3%3a%3aprotocol"><strong>RAD3::Protocol</strong></a></strong><br />
</dt>
<p>Holds hybridization, image acquisition and feature extraction protocol information</p>
<dt><strong><a name="item_rad3%3a%3aprotocolparam"><strong>RAD3::ProtocolParam</strong></a></strong><br />
</dt>
<p>Holds protocol parameter information</p>
<dt><strong><a name="item_sres%3a%3acontact"><strong>SRes::Contact</strong></a></strong><br />
</dt>
<p>Holds personnel contact information</p>
<dt><strong><a name="item_core%3a%3aalgorithm"><strong>Core::Algorithm</strong></a></strong><br />
</dt>
<p>The algorithm (ie, this plugin) responsible for the update</p>
<dt><strong><a name="item_core%3a%3aalgorithmimplementation"><strong>Core::AlgorithmImplementation</strong></a></strong><br />
</dt>
<p>The specific implementation of it</p>
<dt><strong><a name="item_core%3a%3aalgorithmparamkey"><strong>Core::AlgorithmParamKey</strong></a></strong><br />
</dt>
<p>The keys for the plugin's command line parameters</p>
<dt><strong><a name="item_core%3a%3aalgorithmparamkeytype"><strong>Core::AlgorithmParamKeyType</strong></a></strong><br />
</dt>
<p>The data types of the parameters</p>
</dl>
<p>
</p>
<hr />
<h1><a name="failure_cases">FAILURE CASES</a></h1>
<p>Files not in an appropriate format.
</p>
<hr />
<h1><a name="restarting">RESTARTING</a></h1>
<p>Cannot be restarted.
</p>
<hr />
<h1><a name="arguments_in_detail">ARGUMENTS IN DETAIL</a></h1>
<dl>
<dt><strong><a name="item_file">--cfg_file <em>file</em> (Required)</a></strong><br />
</dt>
<p>Full path of the cfg file.</p>
<dl>
<dt><strong><a name="item_format%3a_see_notes">format: See NOTES</a></strong><br />
</dt>
<dl>
<dt><strong><a name="item_mustexist%3a_1">mustExist: 1</a></strong><br />
</dt>
</dl>
</dl>
<dt></dt>
<dt><strong><a name="item_list">--skip <em>string-list</em> (comma delimited)</a></strong><br />
</dt>
<p>List of files in specified directories that will be skipped for loading.</p>
<dt><strong><a name="item_%2d%2dtestnumber_integer">--testnumber <em>integer</em></a></strong><br />
</dt>
<p>Number of assays to be loaded for testing</p>
<dt><strong><a name="item_%2d%2dcommit">--commit <em></em></a></strong><br />
</dt>
<p>Actually commit changes to the database</p>
<dl>
<dt><strong><a name="item_default%3a_0">default: 0</a></strong><br />
</dt>
</dl>
<dt></dt>
<dt><strong><a name="item_%2d%2ddebug">--debug <em></em></a></strong><br />
</dt>
<p>output extra debugging information to verify correct operation</p>
<dl>
<dt><strong>default: 0</strong><br />
</dt>
</dl>
<dt></dt>
<dt><strong><a name="item_%2d%2dsqlverbose">--sqlVerbose <em></em></a></strong><br />
</dt>
<p>Use this flag to switch on a log of SQL statements executed by Perl object layer.</p>
<dl>
<dt><strong>default: 0</strong><br />
</dt>
</dl>
<dt></dt>
<dt><strong><a name="item_%2d%2dverbose">--verbose <em></em></a></strong><br />
</dt>
<p>Use this flag to enable output of logVerbose messages from the plugin.</p>
<dl>
<dt><strong>default: 0</strong><br />
</dt>
</dl>
<dt></dt>
<dt><strong><a name="item_%2d%2dveryverbose">--veryVerbose <em></em></a></strong><br />
</dt>
<p>Use this flag to enable output of logVeryVerbose and logVerbose messages from the plugin.</p>
<dl>
<dt><strong>default: 0</strong><br />
</dt>
</dl>
<dt></dt>
<dt><strong><a name="item_%2d%2duser_string">--user <em>string</em></a></strong><br />
</dt>
<p>Set the user name in new or changed rows with this GUS user name (from Core.UserInfo table) [default is value in gus config file]</p>
<dt><strong><a name="item_%2d%2dgroup_string">--group <em>string</em></a></strong><br />
</dt>
<p>Set the group name in new or changed rows with this GUS group name (from Core.GroupInfo table) [default is value in gus config file]</p>
<dt><strong><a name="item_%2d%2dproject_string">--project <em>string</em></a></strong><br />
</dt>
<p>set the project name in new or changed rows with this GUS project name (from Core.Project table) [default is value in gus config file]</p>
<dt><strong><a name="item_%2d%2dcomment_string">--comment <em>string</em></a></strong><br />
</dt>
<p>Set Core.AlgorithmInvocation.comment with this comment</p>
<dt><strong><a name="item_%2d%2dalgoinvo_integer">--algoinvo <em>integer</em></a></strong><br />
</dt>
<p>Use this algorithm invocation id in the event that a new algorithm invocation id cannot be generated automatically</p>
<dl>
<dt><strong><a name="item_default%3a_1">default: 1</a></strong><br />
</dt>
</dl>
<dt></dt>
<dt><strong><a name="item_%2d%2dgusconfigfile_file">--gusconfigfile <em>file</em></a></strong><br />
</dt>
<p>The gus config file to use [note: the default is your $GUS_CONFIG_FILE]</p>
<dl>
<dt><strong><a name="item_default%3a_%2fhome%2fsvdate%2f%2egus%2eproperties">default: /home/svdate/.gus.properties</a></strong><br />
</dt>
<dl>
<dt><strong><a name="item_format%3a_gus_config_file_format">format: GUS config file format</a></strong><br />
</dt>
</dl>
<dl>
<dt><strong>mustExist: 1</strong><br />
</dt>
</dl>
</dl>
<dt></dt>
<dt><strong><a name="item_%2d%2dhelp">--help <em></em></a></strong><br />
</dt>
<p>Request long help</p>
<dt><strong><a name="item_%2d%2dhelphtml">--helpHTML <em></em></a></strong><br />
</dt>
<p>Request help in HTML</p>
</dl>
<p>
</p>
<hr />
<h1><a name="notes">NOTES</a></h1>
<p>
</p>
<h2><a name="general_description"><em>General Description</em></a></h2>
<p>Plugin reads a config file with information about full paths of directories where files of interest (.gpr &amp; .tif)
are maintained.  Information is extracted from the '.gpr' files and entered into a database.</p>
<p>Since assay, acquisition and most quantification parameters are not readily available through the '.gpr' files,
they cannot be added to the database through this plugin. They have to be added to the tables separately, 
either directly or through the following forms in the RAD StudyAnnotator: Hybridization Parameters, Acquisition
Parameters and Quantification Parameters.</p>
<p>Certain portions in the PERL code are hard-coded for use by RAD at CBIL. These are indicated with the comment 'HARD-CODED', 
and should be changed based on data maintained in the local instance of RAD.</p>
<p>The plugin also assumes the following parameters to be the same for all assays: Array ID, Batch ID, Hybridization
Protocol ID, Hybridization Operator ID, Acquisition Protocol ID, Quantification Protocol ID and Quantification Operator ID.</p>
<p>
</p>
<h2><a name="config_file_[_required_]"><em>Config File [ required ]</em></a></h2>
<p>Blank lines and comment lines (lines starting with '#') are ignored.
The following keywords and their values are required (in cases where no value is to be specified, please
use the words 'null' as the value):</p>
<pre>
  - gpr_File_Path= full path to the dir where the gpR files are kept
  - Study_ID^ = the study identifier
  - Array_ID^ = array type ID
 
 ASSAY SECTION</pre>
<pre>
  - Batch_ID** = the study identifier
  - All_Assay_Descriptions_Same** = requires a yes/no answer; if yes, then allAssayDescriptions 
    will be read, else individualAssayDescriptions will be read
  - All_Assay_Descriptions** = description of the assay
  - Individual_Assay_Descriptions** = assayName|description;assayName|description;assayName|description;</pre>
<pre>
 HYBRIDIZATION SECTION</pre>
<pre>
  - Hyb_Protocol_ID^ = hybridization protocol id
  - Hyb_Operator_ID^ = hybridization operator id
  - All_Hyb_Dates_Same = requires a yes/no answer; if yes, then allHybDates will be read, 
    else individual_HybDates will be read
  - All_Hyb_Dates = yyyy-mm-dd
  - Individual_Hyb_Dates = assayName|yyyy-mm-dd;assayName|yyyy-mm-dd;assayName|yyyy-mm-dd;</pre>
<pre>
 ACQUISITION SECTION</pre>
<pre>
  - Acq_Protocol_ID^ = acquisition protocol id
  - Tiff_File_Path = full path to the dir where the .tif files are kept
  - All_Scan_Dates_Same = requires a yes/no answer; if yes, then allScanDates will be read, 
    else individual_Scan_Dates will be read
  - All_Scan_Dates = yyyy-mm-dd
  - Individual_Scan_Dates = assayName|yyyy-mm-dd;assayName|yyyy-mm-dd;assayName|yyyy-mm-dd;</pre>
<pre>
 QUANTIFICATION SECTION</pre>
<pre>
  - Quant_Protocol_ID^ = quantification protocol id
  - Quant_Operator_ID^** = quantification operator id</pre>
<pre>
  ^ These values should pre-exist in various tables in the database
 ** These values are optional, i.e., the keywords should exist, but their 
    the values can be left blank.</pre>
<p>Each of these keywords should be on a separate line. The values for these keywords should be separated by an '=' sign. A sample
file is maintained in $PROJECT_HOME/GUS/RAD/config/sample_GenePixStudyModuleILoader.cfg (the sample config file also contains instructions).</p>
<p>
</p>
<h2><a name="database_requirements"><em>Database requirements</em></a></h2>
<p>This plugin assumes that the following entries exist in your instance of the database:</p>
<pre>
 1.  The study in RAD3.Study
 2.  The appropriate GenePix array in RAD3.Array
 3.  The hybridization protocol, the acquisition protocol, the quantification protocol in RAD3.Protocol
 4.  Quantification parameters for quantification in RAD3.ProtocolParam</pre>
<p>If any of the above is missing, the plugin will report an error.</p>
<p>
</p>
<h2><a name="warning_(for_noncbil_instances)"><em>Warning (for non-CBIL instances)</em></a></h2>
<p>For local installations of RAD which differ from the CBIL database, some lines of this plugin will need to be modified, to accomodate
hard-coded information. You might need to modify any piece of code labelled as 'HARD-CODED' in the comments below.</p>
<p>
</p>
<hr />
<h1><a name="examples">EXAMPLES</a></h1>
<p>ga GUS::RAD::Plugin::GenePixStudyModuleILoader --cfg_file /somePath/configFile.cfg --testnumber 1 --group myPI --project myProject</p>
<p>ga GUS::RAD::Plugin::GenePixStudyModuleILoader --cfg_file /somePath/configFile.cfg --testnumber 1 --group myPI --project myProject --skip assay123456</p>
<p>ga GUS::RAD::Plugin::GenePixStudyModuleILoader --cfg_file /somePath/configFile.cfg --group myPI --project myProject --skip assay123456,assay123457 --commit</p>
<p>
</p>
<hr />
<h1><a name="author">AUTHOR</a></h1>
<p>Shailesh Date, Hongxian He</p>
<p>
</p>
<hr />
<h1><a name="copyright">COPYRIGHT</a></h1>
<p>Copyright, Trustees of University of Pennsylvania 2003.</p>

</body>

</html>
