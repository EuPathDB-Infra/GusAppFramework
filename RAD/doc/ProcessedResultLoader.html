<HTML>
<HEAD>
<TITLE>ProcessedResultLoader.pm</TITLE>
<LINK REV="made" HREF="mailto:bhcompile@daffy.perf.redhat.com">
</HEAD>

<BODY>

<A NAME="__index__"></A>
<!-- INDEX BEGIN -->

<UL>

	<LI><A HREF="#name">NAME</A></LI>
	<LI><A HREF="#synopsis">SYNOPSIS</A></LI>
	<LI><A HREF="#description">DESCRIPTION</A></LI>
	<LI><A HREF="#arguments">ARGUMENTS</A></LI>
	<LI><A HREF="#options">OPTIONS</A></LI>
	<LI><A HREF="#notes">NOTES</A></LI>
	<UL>

		<LI><A HREF="#cfg_file"><EM>cfg_file</EM></A></LI>
		<LI><A HREF="#data_file"><EM>data_file</EM></A></LI>
	</UL>

	<LI><A HREF="#author">AUTHOR</A></LI>
	<LI><A HREF="#copyright">COPYRIGHT</A></LI>
</UL>
<!-- INDEX END -->

<HR>
<P>
<H1><A NAME="name">NAME</A></H1>
<P>GUS::RAD::Plugin::ProcessedResultLoader</P>
<P>
<HR>
<H1><A NAME="synopsis">SYNOPSIS</A></H1>
<P>ga GUS::RAD::Plugin:ProcessedResultLoader <STRONG>[options]</STRONG> <STRONG>--cfg_file</STRONG> cfg_file <STRONG>--data_file</STRONG> data_file</P>
<P>
<HR>
<H1><A NAME="description">DESCRIPTION</A></H1>
<P>This plug-in loads the processed data (e.g. after normalization) resulted from one particular process into the following tables: ProcessInvocation, ProcessInvocationParam, ProcessIO, ProcessResult, and ProcessInvQuantification.</P>
<P>
<HR>
<H1><A NAME="arguments">ARGUMENTS</A></H1>
<P><STRONG>--cfg_file</STRONG> <EM>config_file</EM> [require the absolute pathname]   
    The configuration file contains the mapping information for input results, including table_id, input_column_name (column names appearing in the header of data_file), and input_role (optional). It also contains other information including the implementation_id, invocation_date, etc. See the sample config file <EM>sample_ProcessedResultLoader.cfg</EM> in the $PROJECT_HOME/RAD/config/ directory.</P>
<P><STRONG>--data_file</STRONG> <EM>data_file</EM>  [require the absolute pathname]  
    The file contains the input_result_ids and corresponding output values. There is one header line which specifies what each column represents.</P>
<P>
<HR>
<H1><A NAME="options">OPTIONS</A></H1>
<P><STRONG>--debug</STRONG>
    Debugging output.</P>
<P><STRONG>--help</STRONG>
    Get usage; same as usage.</P>
<P><STRONG>--verbose</STRONG>
    Lots of output.</P>
<P><STRONG>--commit</STRONG>   
    Commit the data to database.</P>
<P><STRONG>--testnumber</STRONG> <EM>NUM</EM>   
    Number of iterations for testing (<STRONG>in non-commit mode only</STRONG>).</P>
<P><STRONG>--desc</STRONG> <EM>STRING</EM>
    Free text describing the specific process invocation, which will be stored in ProcessInvocation table.</P>
<P><STRONG>--user</STRONG> <EM>STRING</EM>
    The user name, used to set value for row_user_id. The user must already be in Core::UserInfo table. [Default: from $HOME/.gus.properties file]</P>
<P><STRONG>--group</STRONG> <EM>STRING</EM>
    The group name, used to set value for row_group_id. The group must already be in Core::GroupInfo table. [Default: from $HOME/.gus.properties file]</P>
<P><STRONG>--project</STRONG> <EM>STRING</EM>
    The project name, used to set value for row_project_id. The project must already be in Core::ProjectInfo table. [Default: from $HOME/.gus.properties file]</P>
<P>
<HR>
<H1><A NAME="notes">NOTES</A></H1>
<P>Before one can run this plug-in, the Perl objects that will be loaded need to be created, if these objects do not exist yet.</P>
<P>The plug-in outputs to STDERR the number of lines that have been loaded from <EM>data_file</EM> (<EM>excluding</EM> the header and empty lines). Any warning statement (for example, those regarding data lines that have not been loaded into RAD3) will be output to STDOUT for possible redirection to a log file.</P>
<P>Make sure that the <EM>.gus.properties</EM> file of the user contains the correct login name [RAD3rw]. Also, if the group and project differ from the default values in <EM>.gus.properties</EM>, <EM>please specify the proper group and project name on the command line using --group and --project options respectively</EM>.</P>
<P>The process referred to should have been already loaded in the ProcessImplementation table in RAD3. The corresponding process_implementation_id needs to be specified in <EM>cfg_file</EM>.</P>
<P>
<H2><A NAME="cfg_file"><EM>cfg_file</EM></A></H2>
<P>It should be a tab-delimited text file with 2 column: <EM>Name</EM> and <EM>Value</EM>. The order and case of these columns are not important, but it is recommended to follow the template for the sake of consistency.</P>
<P>Comments line start with #.</P>
<P>Each (non-comment) line should contain exactly only one tab.</P>
<P>Do not use special symbols (like ``NA'' or similar) for empty field, either leave the field empty or delete the entire line.</P>
<P>The required parameters are as follows:</P>
<P><STRONG><EM>table_idN</EM></STRONG> 
    The table_id (from GUS::Model::Core::TableInfo) for the <EM>N</EM>th column of <CODE>input_result_id(s)</CODE> in data_file.</P>
<P><STRONG><EM>input_column_nameN</EM></STRONG> 
    The column name in the header in the data_file for the <EM>N</EM>th column of input_result_id's in data_file.</P>
<P><STRONG><EM>input_roleN</EM></STRONG> [Optional]
    The input_role for the <EM>N</EM>th  column of input_result_id's in data_file.</P>
<P><STRONG><EM>implementation_id</EM></STRONG>
    The process_implementation_id for the specific process implementation. It should be taken from ProcessImplementation table.</P>
<P><STRONG><EM>invocation_date</EM></STRONG>
    The date when the specific implementation is invoked. The correct format is YYYY-MM-DD.</P>
<P><STRONG><EM>invocation_param_nameN</EM></STRONG> [Optional]
    The name of the <EM>N</EM>th parameter in ProcessInvocationParam.</P>
<P><STRONG><EM>invocation_param_valueN</EM></STRONG> [Optional]
    The value of the <EM>N</EM>th parameter in ProcessInvocationParam.</P>
<P>
<H2><A NAME="data_file"><EM>data_file</EM></A></H2>
<P>The data file should be in tab-delimited text format with one header line and multiple lines for input element_results and corresponding output value. Each line should contain the same number of tab/fields. There can be multiple input_result_ids but only one output value per line. The header specifies the column names for the input_result_ids (specified by <EM>input_column_nameN</EM> in <EM>cfg_file</EM>) and the output value (specified by the column name <EM>output</EM> in <EM>data_file</EM>).</P>
<P>Please make sure that the input_result_id is valid (must already be in GUS::Model::RAD3::ElementResultImp, GUS::Model::RAD3::CompositeElementResultImp, or GUS::Model::RAD3::ProcessResult table). If input_result_id = ``NA'', then this entry will be discarded [Note: Only this input entry will be removed. If there are other valid entries in the same line, they will be loaded accordingly.]</P>
<P>The output value can be a number or ``NA''. In the latter case, the <EM>entire</EM> line will be automatically removed. An error will occur if the column for output value is empty.</P>
<P><STRONG>Caution</STRONG>: The data_file should contain only the data involved in one
specific process and not combine more than one process.  For example,
if the user has results from normalization of <EM>n</EM> different assays, then
this plug-in needs to be run <EM>n</EM> times (leading to <EM>n</EM> different process
invocations), once per assay.  Accordingly, <EM>n</EM> separate data files will need to be
created.  All elements in the same input column of the data file
should correspond to the same quantification_id and the data_file
should contain all input columns corresponding to data which yielded the
results in the output column. For example, if the process corresponds
to computing the average of spot values over <EM>n</EM> arrays, then there should be
<EM>n</EM> input columns.</P>
<P>
<HR>
<H1><A NAME="author">AUTHOR</A></H1>
<P>Written by Hongxian He.</P>
<P>
<HR>
<H1><A NAME="copyright">COPYRIGHT</A></H1>
<P>Copyright Hongxian He, Trustees of University of Pennsylvania 2003.</P>

</BODY>

</HTML>
